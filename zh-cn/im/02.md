### 什么是IM协议的相对正确理解 <!-- {docsify-ignore} -->

现在一说IM协议很多开发人员(移动端居多)会提到google的protobuf。
但是我要说的是protobuf严格意义上不是IM协议。

现在相对出名的IM协议有MQTT,XMPP。以XMPP为例来说明:

XMPP是以xml为数据格式定义了IM中一系列的概念。如果我说XML是一种IM协议相信大多数人会觉得不合适。

同样的道理,目前protobuf被IM系统较多的使用,用来传输数据。这些系统是以protobuf为数据格式定义了自己的IM协议,所以如果把protobuf叫做IM协议怎么都是很别扭的。理论上xmpp协议也可以改成用protobuf实现(个人脑洞大开)。归根到底protobuf只是一种数据格式,并不能当做IM协议，IM协议应该是数据格式+IM业务定义的结合。所以你可以用protobuf定义一套私有IM协议,但把protobuf叫做IM协议是有失偏颇的。